<?xml version="1.0" encoding="utf-8"?>

<!--
  BigBlueButton open source conferencing system - http://www.bigbluebutton.org
  
  Copyright (c) 2010 BigBlueButton Inc. and by respective authors (see below).
  
  BigBlueButton is free software; you can redistribute it and/or modify it under the 
  terms of the GNU Lesser General Public License as published by the Free Software 
  Foundation; either version 2.1 of the License, or (at your option) any later 
  version. 
  
  BigBlueButton is distributed in the hope that it will be useful, but WITHOUT ANY 
  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A 
  PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.
  
  You should have received a copy of the GNU Lesser General Public License along 
  with BigBlueButton; if not, see <http://www.gnu.org/licenses/>.
 
  $Id: $
-->

<MDIWindow xmlns:mx="http://www.adobe.com/2006/mxml" 
			xmlns="flexlib.mdi.containers.*"
			xmlns:flc="flexlib.controls.*"
			title="Adicionar Arquivos"
			creationComplete="init()" 
			xmlns:mate="http://mate.asfusion.com/" 
			xmlns:controls="flexlib.controls.*">
	
	<mx:Script>
		<![CDATA[
			private var fileRef:FileReference;
			
			private const FILE_UPLOAD_URL:String = "http://www.YOUR-WEBSITE-HERE.com/fileref/uploader.cfm";
			
			private function init():void {
				fileRef = new FileReference();
				fileRef.addEventListener(Event.SELECT, fileRef_select);
				fileRef.addEventListener(ProgressEvent.PROGRESS, fileRef_progress);
				fileRef.addEventListener(Event.COMPLETE, fileRef_complete);
			}
			
			private function browseAndUpload():void {
				fileRef.browse();
				message.text = "";
			}
			
			private function fileRef_select(evt:Event):void {
				try {
					message.text = "size (bytes): " + numberFormatter.format(fileRef.size);
					fileRef.upload(new URLRequest(FILE_UPLOAD_URL));
				} catch (err:Error) {
					message.text = "ERROR: zero-byte file";
				}
			}
			
			private function fileRef_progress(evt:ProgressEvent):void {
				progressBar.visible = true;
			}
			
			private function fileRef_complete(evt:Event):void {
				message.text += " (complete)";
				progressBar.visible = false;
			}
		]]>
	</mx:Script>

	<mx:NumberFormatter id="numberFormatter" />
	
	<mx:Button label="Escolhar arquivo" click="browseAndUpload();" />
	<mx:Label id="message" />
	<mx:ProgressBar id="progressBar" indeterminate="true" visible="false" />
	
	<mx:Form>
		<mx:FormItem label="Arquivo privado">
			<mx:CheckBox id="private_file"/>
		</mx:FormItem> 
	</mx:Form>
	<mx:HBox> 
		<mx:Button label="OK"/> 
	</mx:HBox> 
</MDIWindow>
